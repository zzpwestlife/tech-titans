# Tech Titans 量化投资策略系统

## 项目概述

Tech Titans 是一个基于 Go 语言开发的量化投资策略系统，专门用于分析科技股的渐进式建仓策略。系统实现了从 30% 到 90% 的逐步增仓策略，并提供完整的回测分析和可视化报告。

## 核心功能

### 1. 渐进式建仓策略
- **初始仓位**: 30% 资金投入
- **逐月增仓**: 每月增加 10% 仓位 (30% → 40% → 50% → ... → 90%)
- **动态调仓**: 根据月度交易信号自动买入/卖出股票
- **风险控制**: 保持现金缓冲，分散投资风险

### 2. 数据处理模块
- **股价数据**: 支持 CSV 格式的历史股价数据加载
- **交易信号**: 处理月度交易信号（纳入/剔除决策）
- **数据验证**: 自动验证数据完整性和格式正确性

### 3. 投资组合管理
- **持仓跟踪**: 实时跟踪每只股票的持仓数量和市值
- **现金管理**: 动态管理现金流和投资分配
- **收益计算**: 计算单只股票和整体投资组合的收益率

### 4. 报告生成
- **月度报告**: 生成详细的月度投资组合报告
- **最终持仓**: 输出最终持仓明细和收益分析
- **性能摘要**: 提供整体投资表现的关键指标

### 5. 可视化图表
- **投资组合价值趋势图**: 展示投资组合总价值变化
- **收益率趋势图**: 显示月度和累计收益率
- **资产配置图**: 现金与股票的配置比例
- **持仓分布图**: 各股票的权重分布
- **交易活动图**: 买入/卖出交易的时间分布

## 系统架构

```
tech-titans/
├── main.go           # 主程序入口
├── config.go         # 系统配置
├── types.go          # 数据结构定义
├── data_loader.go    # 数据加载模块
├── strategy.go       # 交易策略实现
├── report.go         # 报告生成模块
├── charts.go         # 图表生成模块
├── stock_price/      # 股价数据目录
├── history/          # 交易信号数据目录
└── output/           # 输出结果目录
    ├── charts/       # 图表文件
    ├── monthly_reports/ # 月度报告
    └── reports/      # 其他报告
```

## 使用方法

### 1. 环境准备

```bash
# 确保安装 Go 1.21 或更高版本
go version

# 克隆项目
git clone <repository-url>
cd tech-titans

# 安装依赖
go mod tidy
```

### 2. 数据准备

#### 股价数据格式 (stock_price/*.csv)
```csv
Date,Open,High,Low,Close,Volume
20230103,130.28,130.90,124.17,125.07,112117500
20230104,126.89,128.66,125.08,126.36,89113600
```

#### 交易信号格式 (history/YYYY/YYYYMMDD.csv)
```csv
symbol,name,price,pl,status
AAPL,,,,纳入
MSFT,,,,剔除
```

### 3. 编译和运行

```bash
# 编译程序
go build -o tech-titans

# 运行默认配置
./tech-titans

# 自定义参数运行
./tech-titans -capital 200000 -start 20230101 -end 20241231
```

### 4. 命令行参数

- `-capital`: 初始资金 (默认: 100000)
- `-start`: 开始日期 YYYYMMDD (默认: 20230101)
- `-end`: 结束日期 YYYYMMDD (默认: 20250831)
- `-stock-dir`: 股价数据目录 (默认: stock_price)
- `-history-dir`: 交易信号目录 (默认: history)
- `-output-dir`: 输出目录 (默认: output)

## 输出结果

### 1. 控制台输出
- 系统配置信息
- 月度交易执行情况
- 最终投资组合摘要
- 性能指标统计

### 2. 文件输出
- `performance_summary.csv`: 性能摘要报告
- `final_position_report.csv`: 最终持仓报告
- `monthly_reports/*.csv`: 月度详细报告
- `charts/*.html`: 交互式图表文件

## 性能指标

系统会计算并输出以下关键指标：

- **总收益率**: 投资期间的总体收益表现
- **月度收益率**: 每月的投资收益变化
- **最大回撤**: 投资组合的最大损失幅度
- **夏普比率**: 风险调整后的收益指标
- **持仓分布**: 各股票在投资组合中的权重

## 技术特性

- **高精度计算**: 使用 `decimal` 库确保财务计算精度
- **并发安全**: 支持多线程数据处理
- **内存优化**: 高效的数据结构和算法
- **错误处理**: 完善的错误处理和日志记录
- **可扩展性**: 模块化设计，易于扩展新功能

## 依赖库

- `github.com/shopspring/decimal`: 高精度数值计算
- `github.com/go-echarts/go-echarts/v2`: 图表生成

## 示例结果

基于默认配置的回测结果示例：

- **初始资金**: $100,000
- **最终价值**: $172,684
- **总收益率**: +72.68%
- **投资期间**: 2023年1月 - 2025年8月
- **最终持仓**: 15只科技股

## 注意事项

1. **数据质量**: 确保股价数据和交易信号数据的完整性和准确性
2. **日期格式**: 所有日期必须使用 YYYYMMDD 格式
3. **文件编码**: CSV 文件建议使用 UTF-8 编码
4. **内存使用**: 大量数据处理时注意内存使用情况
5. **风险提示**: 本系统仅用于回测分析，不构成投资建议

## 许可证

MIT License

## 贡献

欢迎提交 Issue 和 Pull Request 来改进项目。
